<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pregnancy Care Intake</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <main class="container">

    <section class="nearest-hospital">
      <h3>📍 Nearest Maternity Facility</h3>
      <p id="nearestHospital">Detecting nearest maternity clinic or hospital...</p>
    </section>

    <section class="form-section">
      <form id="triageForm">
        <h3>📝 1. Basic Info</h3>
        <div class="input">
            <div class="box">
                <input type="text" name="fullname" placeholder="Full Name" class = "user-input" required>
            </div>
            <div class="box">
                <input type="text" name="id" placeholder="ID/Passport (optional)" class = "user-input">
            </div>
            <div class="box">
                <input type="number" name="age" placeholder="Age" class = "user-input" required>
            </div>
            
        </div>
        <div class="box">
          <input type="hidden" name="gender" value="Female">
          <p style="color: #e91e63; font-weight: bold;">🤱 Expecting Mother</p>
        </div>
        <div class="box">
          <input type="text" name="contact" placeholder="Phone / WhatsApp" required>
        </div>
        <div class="box">
          <input type="email" name="email" placeholder="Email (optional)">
        </div>

        <h3>🤰 2. Pregnancy Information</h3>
        <div class="box">
          <input type="number" name="pregnancy_week" placeholder="Current Pregnancy Week (1-40)" min="1" max="40" required>
        </div>
        <div class="box">
          <select name="trimester" required>
            <option value="">Select Current Trimester</option>
            <option value="First">First Trimester (1-12 weeks)</option>
            <option value="Second">Second Trimester (13-26 weeks)</option>
            <option value="Third">Third Trimester (27-40 weeks)</option>
          </select>
        </div>
        <div class="box">
          <input type="date" name="due_date" placeholder="Expected Due Date">
        </div>
        <div class="box">
          <input type="date" name="last_menstrual_period" placeholder="Last Menstrual Period (LMP)">
        </div>
        <div class="box">
          <select name="blood_type">
            <option value="">Blood Type (optional)</option>
            <option value="A+">A+</option>
            <option value="A-">A-</option>
            <option value="B+">B+</option>
            <option value="B-">B-</option>
            <option value="AB+">AB+</option>
            <option value="AB-">AB-</option>
            <option value="O+">O+</option>
            <option value="O-">O-</option>
          </select>
        </div>
        <div class="box">
          <input type="number" name="previous_pregnancies" placeholder="Number of Previous Pregnancies" min="0" max="10" value="0">
        </div>
        

        <h3>📌 3. Visit Type</h3>
        <label><input type="radio" name="visitType" value="First prenatal visit"> First prenatal visit</label><br>
        <label><input type="radio" name="visitType" value="Routine checkup"> Routine checkup</label><br>
        <label><input type="radio" name="visitType" value="Follow-up"> Follow-up appointment</label><br>
        <label><input type="radio" name="visitType" value="Emergency"> Pregnancy emergency</label><br>

        <h3>🤰 4. Pregnancy Symptoms Checklist</h3>
        <h4>🚨 Critical Symptoms (Seek immediate care):</h4>
        <label><input type="checkbox" name="symptoms" value="severe bleeding"> Severe vaginal bleeding</label><br>
        <label><input type="checkbox" name="symptoms" value="heavy vaginal bleeding"> Heavy vaginal bleeding</label><br>
        <label><input type="checkbox" name="symptoms" value="labor contractions"> Labor contractions</label><br>
        <label><input type="checkbox" name="symptoms" value="water breaking"> Water breaking</label><br>
        <label><input type="checkbox" name="symptoms" value="severe preeclampsia"> Severe headache with vision changes</label><br>
        <label><input type="checkbox" name="symptoms" value="severe abdominal pain"> Severe abdominal pain</label><br>
        <label><input type="checkbox" name="symptoms" value="difficulty breathing"> Difficulty breathing</label><br>
        <label><input type="checkbox" name="symptoms" value="chest pain"> Chest pain</label><br>
        <label><input type="checkbox" name="symptoms" value="fainting"> Fainting / Loss of consciousness</label><br>
        
        <h4>⚠️ Urgent Symptoms (See doctor today):</h4>
        <label><input type="checkbox" name="symptoms" value="moderate bleeding"> Moderate bleeding / Spotting</label><br>
        <label><input type="checkbox" name="symptoms" value="cramping"> Severe cramping</label><br>
        <label><input type="checkbox" name="symptoms" value="abdominal pain"> Abdominal pain</label><br>
        <label><input type="checkbox" name="symptoms" value="back pain"> Severe back pain</label><br>
        <label><input type="checkbox" name="symptoms" value="nausea and vomiting"> Severe nausea and vomiting</label><br>
        <label><input type="checkbox" name="symptoms" value="decreased fetal movement"> Decreased baby movement</label><br>
        <label><input type="checkbox" name="symptoms" value="fever"> Fever</label><br>
        <label><input type="checkbox" name="symptoms" value="swelling"> Severe swelling</label><br>
        <label><input type="checkbox" name="symptoms" value="high blood pressure"> High blood pressure symptoms</label><br>
        
        <h4>✅ Normal Pregnancy Symptoms:</h4>
        <label><input type="checkbox" name="symptoms" value="mild nausea"> Mild nausea / Morning sickness</label><br>
        <label><input type="checkbox" name="symptoms" value="mild cramping"> Mild cramping</label><br>
        <label><input type="checkbox" name="symptoms" value="mild back pain"> Mild back pain</label><br>
        <label><input type="checkbox" name="symptoms" value="fatigue"> Fatigue</label><br>
        <label><input type="checkbox" name="symptoms" value="mild swelling"> Mild swelling</label><br>
        <label><input type="checkbox" name="symptoms" value="heartburn"> Heartburn</label><br>
        <label><input type="checkbox" name="symptoms" value="constipation"> Constipation</label><br>
        <label><input type="checkbox" name="symptoms" value="mild headache"> Mild headache</label><br>
        <label><input type="checkbox" name="symptoms" value="round ligament pain"> Round ligament pain</label><br>
        
        <input type="text" name="otherSymptoms" placeholder="Other pregnancy-related symptoms or concerns">

        <h3>⏱️ 5. Symptom Duration</h3>
        <label><input type="radio" name="duration" value="Less than 24 hrs"> Less than 24 hrs</label><br>
        <label><input type="radio" name="duration" value="1–3 days"> 1–3 days</label><br>
        <label><input type="radio" name="duration" value="More than 3 days"> More than 3 days</label><br>

        <h3>⚠️ 6. Pregnancy Risk Factors</h3>
        <label>Taking any medications during pregnancy? 
          <input type="radio" name="chronic" value="Yes"> Yes 
          <input type="radio" name="chronic" value="No"> No
        </label><br>
        <label>Diabetes / High blood pressure / Gestational diabetes? 
          <input type="radio" name="conditions" value="Yes"> Yes 
          <input type="radio" name="conditions" value="No"> No
        </label><br>
        <label>Multiple pregnancy (twins/triplets)? 
          <input type="radio" name="multiple_pregnancy" value="Yes"> Yes 
          <input type="radio" name="multiple_pregnancy" value="No"> No
        </label><br>
        <label>Previous pregnancy complications? 
          <input type="radio" name="previous_complications" value="Yes"> Yes 
          <input type="radio" name="previous_complications" value="No"> No
        </label><br>
        <label>Contact with sick person recently? 
          <input type="radio" name="contactSick" value="Yes"> Yes 
          <input type="radio" name="contactSick" value="No"> No
        </label><br><br>

        <h3>🚗 7. Location & ETA</h3>
        <div class="box">
          <select name="arrival_mode" required>
            <option value="">How are you arriving?</option>
            <option value="private car">Private Car</option>
            <option value="ambulance">Ambulance</option>
            <option value="public transport">Public Transport</option>
            <option value="walking">Walking</option>
            <option value="other">Other</option>
          </select>
        </div>
        
        <div class="box" id="locationSection" style="display: none;">
          <label>📍 Your Current Location (for ETA calculation)</label>
          <div class="location-options">
            <label><input type="radio" name="locationType" value="gps" checked> Use GPS Location</label>
            <label><input type="radio" name="locationType" value="address"> Enter Address</label>
          </div>
          
          <div id="gpsLocation" class="location-input">
            <button type="button" id="getLocationBtn" class="button secondary">📍 Get My Location</button>
            <input type="hidden" name="car_lat" id="carLat">
            <input type="hidden" name="car_lng" id="carLng">
            <p id="locationStatus"></p>
          </div>
          
          <div id="addressLocation" class="location-input" style="display: none;">
            <input type="text" name="car_address" placeholder="Enter your address (e.g., Sandton City, Johannesburg)">
          </div>
        </div>

        <div class="action-buttons">
          <button class="button" type="submit">🚑 Submit Triage</button>
          <button class="button secondary" type="reset">♻️ Reset</button>
        </div>
      </form>
    </section>

    <section class="result-section" id="resultSection" aria-live="polite">
      <div class="loading" id="loading">
        <div class="spinner"></div>
        <p>⏳ Processing your information...</p>
      </div>

      <div class="result-card" id="resultCard">
        <div class="result-title">🎟️ Your Ticket</div>
        <p id="ticketNumber"></p>
        <p id="severityLevel"></p>
        <div id="etaInfo" style="display: none;">
          <div class="eta-card">
            <h4>⏰ Estimated Arrival Time</h4>
            <p id="etaMinutes"></p>
            <p id="etaDetails"></p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script src="script.js"></script>
</body>
</html>
