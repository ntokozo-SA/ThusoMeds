<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Daily Report - Pregnancy Wellness</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    /* Mood Tracker Specific Styles */
    .mood-tracker-container {
      max-width: 800px;
      margin: 20px auto;
      padding: 20px;
      background: linear-gradient(135deg, #f0f4ff, #e0e7ff);
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(124, 58, 237, 0.1);
    }

    .mood-tracker-header {
      text-align: center;
      margin-bottom: 30px;
      padding: 20px;
      background: linear-gradient(135deg, #7c3aed, #8b5cf6);
      color: white;
      border-radius: 12px;
    }

    .mood-tracker-header h1 {
      margin: 0;
      font-size: 2.2em;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }

    .mood-tracker-header p {
      margin: 10px 0 0 0;
      font-size: 1.1em;
      opacity: 0.9;
    }

    .current-date {
      text-align: center;
      font-size: 1.2em;
      color: #5b21b6;
      margin-bottom: 25px;
      font-weight: bold;
    }

    .mood-selection {
      background: white;
      border-radius: 12px;
      padding: 25px;
      margin-bottom: 20px;
      box-shadow: 0 5px 15px rgba(124, 58, 237, 0.1);
    }

    .mood-options {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 15px;
      margin-bottom: 20px;
    }

    .mood-option {
      text-align: center;
      padding: 15px;
      border: 3px solid transparent;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
      background: #f8f9fa;
    }

    .mood-option:hover {
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }

    .mood-option.selected {
      border-color: #7c3aed;
      background: linear-gradient(135deg, #f0f4ff, #e0e7ff);
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(124, 58, 237, 0.3);
    }

    .mood-emoji {
      font-size: 2.5em;
      margin-bottom: 8px;
      display: block;
    }

    .mood-label {
      font-weight: bold;
      color: #333;
      font-size: 0.9em;
    }

    .mood-description {
      font-size: 0.8em;
      color: #666;
      margin-top: 4px;
    }

    .mood-notes {
      margin-top: 20px;
    }

    .mood-notes label {
      display: block;
      margin-bottom: 8px;
      font-weight: bold;
      color: #333;
    }

    .mood-notes textarea {
      width: 100%;
      min-height: 100px;
      padding: 12px;
      border: 2px solid #ddd;
      border-radius: 8px;
      font-size: 1em;
      resize: vertical;
      font-family: inherit;
    }

    .mood-notes textarea:focus {
      outline: none;
      border-color: #e91e63;
      box-shadow: 0 0 8px rgba(233, 30, 99, 0.3);
    }

    .symptoms-section {
      background: white;
      border-radius: 12px;
      padding: 25px;
      margin-bottom: 20px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }

    .symptoms-section h3 {
      color: #7c3aed;
      margin-bottom: 15px;
      font-size: 1.3em;
    }

    .symptoms-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 10px;
    }

    .symptom-item {
      display: flex;
      align-items: center;
      padding: 8px;
      background: #f8f9fa;
      border-radius: 6px;
      border: 1px solid #ddd;
    }

    .symptom-item input[type="checkbox"] {
      margin-right: 8px;
      transform: scale(1.2);
    }

    .symptom-item label {
      font-size: 0.9em;
      cursor: pointer;
      flex: 1;
    }

    .submit-mood {
      text-align: center;
      margin-top: 25px;
    }

    .submit-btn {
      background: linear-gradient(135deg, #7c3aed, #8b5cf6);
      color: white;
      border: none;
      padding: 15px 40px;
      font-size: 1.2em;
      font-weight: bold;
      border-radius: 25px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 5px 15px rgba(124, 58, 237, 0.3);
    }

    .submit-btn:hover {
      background: linear-gradient(135deg, #5b21b6, #7c3aed);
      transform: translateY(-2px);
      box-shadow: 0 7px 20px rgba(124, 58, 237, 0.4);
    }

    .submit-btn:disabled {
      background: #ccc;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    .symptoms-history {
      background: white;
      border-radius: 12px;
      padding: 25px;
      margin-top: 20px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }

    .symptoms-history h3 {
      color: #7c3aed;
      margin-bottom: 15px;
      font-size: 1.3em;
    }

    .symptoms-entry {
      display: flex;
      align-items: flex-start;
      padding: 15px;
      margin-bottom: 15px;
      background: #f8f9fa;
      border-radius: 8px;
      border-left: 4px solid #e91e63;
    }

    .symptoms-entry-date {
      font-weight: bold;
      color: #333;
      min-width: 100px;
      margin-right: 15px;
    }

    .symptoms-entry-content {
      flex: 1;
    }

    .symptoms-entry-notes {
      color: #666;
      font-size: 0.9em;
      margin-bottom: 8px;
    }

    .symptoms-entry-symptoms {
      display: flex;
      flex-wrap: wrap;
      gap: 5px;
    }

    .symptom-tag {
      background: #7c3aed;
      color: white;
      padding: 3px 8px;
      border-radius: 12px;
      font-size: 0.8em;
      font-weight: 500;
    }

    .refresh-btn {
      background: linear-gradient(135deg, #8b5cf6, #a855f7);
      color: white;
      border: none;
      padding: 8px 15px;
      font-size: 0.9em;
      font-weight: bold;
      border-radius: 15px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 2px 8px rgba(124, 58, 237, 0.3);
    }

    .refresh-btn:hover {
      background: linear-gradient(135deg, #7c3aed, #8b5cf6);
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(124, 58, 237, 0.4);
    }

    .refresh-btn:active {
      transform: translateY(0);
    }

    .refresh-btn i {
      margin-right: 5px;
    }


    .success-message {
      background: #d4edda;
      color: #155724;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      border: 1px solid #c3e6cb;
      display: none;
    }

    .error-message {
      background: #f8d7da;
      color: #721c24;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      border: 1px solid #f5c6cb;
      display: none;
    }

    .pregnancy-tips {
      background: linear-gradient(135deg, #f0f4ff, #e0e7ff);
      border-radius: 12px;
      padding: 20px;
      margin-top: 20px;
      border: 2px solid #8b5cf6;
    }

    .pregnancy-tips h3 {
      color: #7c3aed;
      margin-bottom: 15px;
    }

    .tip-item {
      margin-bottom: 10px;
      padding: 8px;
      background: rgba(255,255,255,0.7);
      border-radius: 6px;
      font-size: 0.9em;
    }


    @media (max-width: 768px) {
      .mood-tracker-container {
        margin: 10px;
        padding: 15px;
      }
      
      .mood-options {
        grid-template-columns: repeat(2, 1fr);
      }
      
    .mood-tracker-header h1 {
      font-size: 1.8em;
    }
  }


  /* Preg Fact Button Styles */
  .preg-fact-button {
    background: linear-gradient(135deg, #7c3aed, #5b21b6);
    color: white;
    border: none;
    padding: 12px 24px;
    border-radius: 25px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(233, 30, 99, 0.3);
    margin-top: 15px;
    display: inline-flex;
    align-items: center;
    gap: 8px;
  }

  .preg-fact-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(124, 58, 237, 0.4);
    background: linear-gradient(135deg, #5b21b6, #4c1d95);
  }

  .preg-fact-button:active {
    transform: translateY(0);
  }

  .preg-fact-display {
    background: linear-gradient(135deg, #f0f4ff, #e0e7ff);
    border-radius: 15px;
    padding: 20px;
    margin: 20px 0;
    border-left: 5px solid #7c3aed;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    display: none;
    animation: slideIn 0.5s ease-out;
  }

  .preg-fact-display.show {
    display: block;
  }

  .preg-fact-content {
    color: #5b21b6;
    font-size: 16px;
    line-height: 1.6;
    margin: 0;
  }

  .preg-fact-icon {
    color: #e91e63;
    margin-right: 10px;
    font-size: 18px;
  }

  @keyframes slideIn {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @media (max-width: 768px) {
    .preg-fact-button {
      padding: 10px 20px;
      font-size: 14px;
    }
    
    .preg-fact-display {
      padding: 15px;
    }
    
    .preg-fact-content {
      font-size: 14px;
    }
  }

  /* Hospital Button Styles */
  .hospital-button-container {
    text-align: center;
    margin-bottom: 25px;
  }

  .hospital-button {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    background: linear-gradient(135deg, #8b5cf6, #7c3aed);
    color: white;
    text-decoration: none;
    padding: 15px 30px;
    border-radius: 30px;
    font-size: 18px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
    box-shadow: 0 6px 20px rgba(33, 150, 243, 0.3);
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
  }

  .hospital-button:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(124, 58, 237, 0.4);
    background: linear-gradient(135deg, #7c3aed, #5b21b6);
    color: white;
    text-decoration: none;
  }

  .hospital-button:active {
    transform: translateY(-1px);
  }

  .hospital-button i {
    font-size: 20px;
  }

  @media (max-width: 768px) {
    .hospital-button {
      padding: 12px 24px;
      font-size: 16px;
    }
    
    .hospital-button i {
      font-size: 18px;
    }
  }
  </style>
</head>
<body>
  <div class="mood-tracker-container">
    <div class="mood-tracker-header">
      <h1><i class="fas fa-heart"></i> Daily Report</h1>
      <p>Track your wellbeing during pregnancy</p>
      
      <button id="preg-fact-btn" class="preg-fact-button">
        <i class="fas fa-baby"></i> Preg Fact
      </button>
    </div>

    <div id="preg-fact-display" class="preg-fact-display">
      <!-- Pregnancy facts will appear here -->
    </div>

    <div class="current-date" id="current-date"></div>

    <div id="success-message" class="success-message">
      <i class="fas fa-check-circle"></i> <strong>Great!</strong> Your report has been recorded successfully.
    </div>

    <div id="error-message" class="error-message">
      <i class="fas fa-exclamation-triangle"></i> <strong>Error!</strong> <span id="error-text"></span>
    </div>

    <div class="mood-selection">
      <div class="hospital-button-container">
        <a href="clinic.html" class="hospital-button">
          <i class="fas fa-hospital"></i> HOSPITAL
        </a>
      </div>


      <div class="mood-notes">
        <label for="mood-notes">Additional notes (optional):</label>
        <textarea id="mood-notes" placeholder="Share what's on your mind today..."></textarea>
      </div>
    </div>

    <div class="symptoms-section">
      <h3>Common Pregnancy Symptoms Today:</h3>
      <div class="symptoms-grid">
        <div class="symptom-item">
          <input type="checkbox" id="nausea" name="symptoms" value="nausea">
          <label for="nausea">Nausea/Morning Sickness</label>
        </div>
        <div class="symptom-item">
          <input type="checkbox" id="fatigue" name="symptoms" value="fatigue">
          <label for="fatigue">Fatigue</label>
        </div>
        <div class="symptom-item">
          <input type="checkbox" id="back-pain" name="symptoms" value="back-pain">
          <label for="back-pain">Back Pain</label>
        </div>
        <div class="symptom-item">
          <input type="checkbox" id="mood-swings" name="symptoms" value="mood-swings">
          <label for="mood-swings">Mood Swings</label>
        </div>
        <div class="symptom-item">
          <input type="checkbox" id="cravings" name="symptoms" value="cravings">
          <label for="cravings">Food Cravings</label>
        </div>
        <div class="symptom-item">
          <input type="checkbox" id="heartburn" name="symptoms" value="heartburn">
          <label for="heartburn">Heartburn</label>
        </div>
        <div class="symptom-item">
          <input type="checkbox" id="swelling" name="symptoms" value="swelling">
          <label for="swelling">Swelling</label>
        </div>
        <div class="symptom-item">
          <input type="checkbox" id="insomnia" name="symptoms" value="insomnia">
          <label for="insomnia">Sleep Issues</label>
        </div>
        <div class="symptom-item">
          <input type="checkbox" id="none" name="symptoms" value="none">
          <label for="none">None of the above</label>
        </div>
      </div>
    </div>

    <div class="submit-mood">
      <button type="button" id="submit-mood-btn" class="submit-btn">
        <i class="fas fa-save"></i> Save Today's Report 
      </button>
    </div>

    <div class="symptoms-history">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
        <h3><i class="fas fa-chart-line"></i> Symptoms History</h3>
        <button id="refresh-symptoms-btn" class="refresh-btn">
          <i class="fas fa-sync-alt"></i> Refresh
        </button>
      </div>
      <div id="symptoms-history-list">
        <!-- Symptoms history will be populated here -->
      </div>
    </div>

    <div class="pregnancy-tips">
      <h3><i class="fas fa-lightbulb"></i> Daily Wellness Tips</h3>
      <div class="tip-item">
        <strong>Stay Hydrated:</strong> Drink plenty of water throughout the day.
      </div>
      <div class="tip-item">
        <strong>Gentle Exercise:</strong> Take short walks or do prenatal yoga.
      </div>
      <div class="tip-item">
        <strong>Rest Well:</strong> Get adequate sleep and take naps when needed.
      </div>
      <div class="tip-item">
        <strong>Connect:</strong> Talk to your partner, friends, or healthcare provider about your feelings.
      </div>
    </div>
  </div>

  <script>
    // Mood mappings removed as history functionality was removed

    document.addEventListener('DOMContentLoaded', function() {
      // Set current date
      const currentDate = new Date();
      const dateOptions = { 
        weekday: 'long', 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric' 
      };
      document.getElementById('current-date').textContent = currentDate.toLocaleDateString('en-US', dateOptions);

      // Pregnancy Facts Array
      const pregnancyFacts = [
        "A baby's heart starts beating at just 6 weeks gestation - that's only 4 weeks after conception!",
        "During pregnancy, your blood volume increases by 50% to support both you and your baby.",
        "A baby can taste what you eat through the amniotic fluid as early as 15 weeks!",
        "Pregnancy brain is real - your brain actually shrinks during pregnancy and takes up to 2 years to fully recover.",
        "Your baby's fingerprints are fully formed by 19 weeks of pregnancy.",
        "A pregnant woman's sense of smell can become 2,000 times more sensitive than normal.",
        "Babies can hear sounds from outside the womb starting at 18 weeks, including your voice!",
        "The placenta is the only organ that grows and then gets discarded - it's completely new with each pregnancy.",
        "Your baby's first poop (meconium) is made up of skin cells, hair, and other materials swallowed in the womb.",
        "Pregnancy can make your feet grow up to a full shoe size due to hormone changes and weight gain.",
        "A baby's bones are actually made of cartilage at birth and harden over time.",
        "Your baby can hiccup in the womb as early as 9 weeks - you might feel it as tiny rhythmic movements!",
        "Pregnancy hormones can make your hair thicker and shinier, but you might lose some after delivery.",
        "A baby's taste buds develop at 8 weeks, and they can taste sweet, sour, and bitter flavors in the womb.",
        "Your uterus grows from the size of a pear to the size of a watermelon during pregnancy!",
        "Babies can dream in the womb starting around 30 weeks of pregnancy.",
        "Pregnancy can change your eye prescription due to fluid retention and hormonal changes.",
        "Your baby's brain grows at an incredible rate - 250,000 neurons per minute in the third trimester!",
        "Morning sickness is actually a good sign - it's linked to lower rates of miscarriage.",
        "A baby's first breath triggers major changes in their heart and circulation system."
      ];

      // Preg Fact Button Functionality
      const pregFactBtn = document.getElementById('preg-fact-btn');
      const pregFactDisplay = document.getElementById('preg-fact-display');

      pregFactBtn.addEventListener('click', function() {
        // Get random fact
        const randomIndex = Math.floor(Math.random() * pregnancyFacts.length);
        const randomFact = pregnancyFacts[randomIndex];
        
        // Display fact with animation
        pregFactDisplay.innerHTML = `
          <p class="preg-fact-content">
            <i class="fas fa-lightbulb preg-fact-icon"></i>
            <strong>Did you know?</strong> ${randomFact}
          </p>
        `;
        
        // Show with animation
        pregFactDisplay.classList.add('show');
        
        // Hide after 8 seconds
        setTimeout(() => {
          pregFactDisplay.classList.remove('show');
        }, 8000);
        
        // Add click to hide functionality
        pregFactDisplay.addEventListener('click', function() {
          this.classList.remove('show');
        });
      });

      // Mood selection functionality - removed as per user request
      let selectedMood = null;

      // Submit mood functionality
      const submitBtn = document.getElementById('submit-mood-btn');
      const successMessage = document.getElementById('success-message');
      const errorMessage = document.getElementById('error-message');
      const errorText = document.getElementById('error-text');

      submitBtn.addEventListener('click', async function() {
        // Hide previous messages
        successMessage.style.display = 'none';
        errorMessage.style.display = 'none';

        // Set default mood since mood selection was removed
        selectedMood = 'good';

        // Get selected symptoms
        const selectedSymptoms = [];
        const symptomCheckboxes = document.querySelectorAll('input[name="symptoms"]:checked');
        symptomCheckboxes.forEach(checkbox => {
          selectedSymptoms.push(checkbox.value);
        });

        // Get mood notes
        const moodNotes = document.getElementById('mood-notes').value.trim();

        // Prepare data
        const moodData = {
          date: currentDate.toISOString().split('T')[0],
          mood: selectedMood,
          notes: moodNotes,
          symptoms: selectedSymptoms
        };

        // Disable submit button
        submitBtn.disabled = true;
        submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Saving...';

        try {
          // Submit to backend (you can modify this endpoint as needed)
          const response = await fetch('http://localhost:5000/mood-tracker', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify(moodData)
          });

          if (response.ok) {
            // Show success message
            successMessage.style.display = 'block';
            
            // Add to symptoms history
            addSymptomsToHistory(moodData);
            
            // Reset form
            resetForm();
            
            // Scroll to top to show success message
            window.scrollTo({ top: 0, behavior: 'smooth' });
          } else {
            const result = await response.json();
            throw new Error(result.error || 'Failed to save report data');
          }
        } catch (error) {
          console.error('Error:', error);
          errorText.textContent = error.message || 'Failed to save report data. Please try again.';
          errorMessage.style.display = 'block';
        } finally {
          // Re-enable submit button
          submitBtn.disabled = false;
          submitBtn.innerHTML = '<i class="fas fa-save"></i> Save Today\'s Report';
        }
      });

      // Reset form function
      function resetForm() {
        selectedMood = null;
        document.getElementById('mood-notes').value = '';
        document.querySelectorAll('input[name="symptoms"]').forEach(checkbox => {
          checkbox.checked = false;
        });
      }

      // Symptoms history functionality
      function addSymptomsToHistory(reportData) {
        const historyList = document.getElementById('symptoms-history-list');
        
        // If the history list shows "no history" message, clear it
        if (historyList.innerHTML.includes('No symptoms history yet')) {
          historyList.innerHTML = '';
        }
        
        // Create a temporary container for the new entry
        const tempContainer = document.createElement('div');
        displaySymptomsEntry(reportData, tempContainer);
        
        // Insert at the beginning of the history list
        const newEntry = tempContainer.firstChild;
        historyList.insertBefore(newEntry, historyList.firstChild);

        // Limit history to 10 entries
        const entries = historyList.querySelectorAll('.symptoms-entry');
        if (entries.length > 10) {
          entries[entries.length - 1].remove();
        }
      }

      async function loadSymptomsHistory() {
        const historyList = document.getElementById('symptoms-history-list');
        
        try {
          // Fetch mood entries from backend (last 30 entries)
          const response = await fetch('http://localhost:5000/mood-tracker?limit=30');
          
          if (response.ok) {
            const data = await response.json();
            const moodEntries = data.mood_entries || [];
            
            if (moodEntries.length === 0) {
              historyList.innerHTML = '<p style="text-align: center; color: #666; font-style: italic;">No symptoms history yet. Start tracking your daily symptoms!</p>';
              return;
            }
            
            // Clear existing content
            historyList.innerHTML = '';
            
            // Display symptoms entries
            moodEntries.forEach(entry => {
              displaySymptomsEntry(entry, historyList);
            });
            
          } else {
            console.error('Failed to load symptoms history:', response.statusText);
            historyList.innerHTML = '<p style="text-align: center; color: #dc3545; font-style: italic;">Failed to load symptoms history. Please try again later.</p>';
          }
        } catch (error) {
          console.error('Error loading symptoms history:', error);
          historyList.innerHTML = '<p style="text-align: center; color: #dc3545; font-style: italic;">Error loading symptoms history. Please check your connection.</p>';
        }
      }

      function displaySymptomsEntry(entry, container) {
        const symptomsEntry = document.createElement('div');
        symptomsEntry.className = 'symptoms-entry';

        // Parse date and format it
        const entryDate = new Date(entry.date);
        const formattedDate = entryDate.toLocaleDateString('en-US', { 
          month: 'short', 
          day: 'numeric',
          year: entryDate.getFullYear() !== new Date().getFullYear() ? 'numeric' : undefined
        });

        // Parse symptoms if they exist
        let symptomsTags = '';
        if (entry.symptoms) {
          try {
            // Parse symptoms from JSON string
            const symptomsArray = typeof entry.symptoms === 'string' ? JSON.parse(entry.symptoms) : entry.symptoms;
            if (Array.isArray(symptomsArray) && symptomsArray.length > 0) {
              symptomsTags = symptomsArray.map(symptom => 
                `<span class="symptom-tag">${symptom.replace('-', ' ').replace(/\b\w/g, l => l.toUpperCase())}</span>`
              ).join('');
            }
          } catch (e) {
            // If parsing fails, treat as empty
            console.warn('Failed to parse symptoms:', entry.symptoms);
          }
        }

        symptomsEntry.innerHTML = `
          <div class="symptoms-entry-date">${formattedDate}</div>
          <div class="symptoms-entry-content">
            ${entry.notes ? `<div class="symptoms-entry-notes">${entry.notes}</div>` : ''}
            ${symptomsTags ? `<div class="symptoms-entry-symptoms">${symptomsTags}</div>` : '<div class="symptoms-entry-symptoms"><span class="symptom-tag" style="background: #28a745;">No symptoms reported</span></div>'}
          </div>
        `;

        container.appendChild(symptomsEntry);
      }

      // Load existing symptoms history from backend
      loadSymptomsHistory();

      // Add hospital button functionality
      const hospitalBtn = document.querySelector('.hospital-button');
      hospitalBtn.addEventListener('click', function(e) {
        e.preventDefault(); // Prevent default link behavior
        alert('Next of kin is Arlet');
        // Navigate to clinic.html after showing the alert
        window.location.href = 'clinic.html';
      });

      // Add refresh button functionality
      const refreshBtn = document.getElementById('refresh-symptoms-btn');
      refreshBtn.addEventListener('click', function() {
        this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Loading...';
        this.disabled = true;
        
        loadSymptomsHistory().then(() => {
          this.innerHTML = '<i class="fas fa-sync-alt"></i> Refresh';
          this.disabled = false;
        }).catch(() => {
          this.innerHTML = '<i class="fas fa-sync-alt"></i> Refresh';
          this.disabled = false;
        });
      });






    });
  </script>
</body>
</html>
